<!DOCTYPE html>
<script>


function shipShoot(shipArray, positionx, positiony){

  for(let i=0;  i < shipArray.length; i++){
    hit = shipCheck(shipArray[i], positionx, positiony)
    if (hit != -1){
      shipArray[i].damage[hit] = true //todo check if not copy
    }
  }
  return shipArray

  //Check if a ship "ship" was hit, if so return the segment that was hit
  function shipCheck(ship, positionx, positiony){
    if (ship.direction % 2 == 0 && ship.positionx == positionx){
      if(ship.direction == 0){
        diff = positiony - ship.positiony
      }
      else {
        diff = positiony + ship.positiony
      }
      if (diff >= 0 && diff < ship.damage.length){
        return diff
      }
    }
    else{
      if(ship.positiony == positiony){
        if(ship.direction == 1){
          diff = positionx - ship.positionx
        }
        else{
          diff = positionx + ship.positionx
        }
        if (diff >= 0 && diff < ship.damage.length){
          return diff
        }
      }
    }
    return -1
  }
}
</script>
