<!DOCTYPE html>
<html>
<head>
  <title>Mexican</title>
  <style type="text/css">
.button {
  font-size: 16px;
}
.score{
  font-size: 2em;
  }
  </style>

</head>
<body>
  <div style="margin: 8%;">
    <div id="scoreToBeatDiv">Score to beat = 0</div><br>
    <div id="maxTriesDiv">max tries = 3</div><br>
    <div id="currentTriesDiv">current tries = 0</div><br>
    <button id="rollBothButton" class="button">Roll both</button><br>
    <button id="nextPlayerButton" class="button">Next player</button><br>
    <div id="scoreDiv" class="score">0</div>
  </div>
<script type="text/javascript">
var scoreToBeat = 0
var maxNumberOfTries = 3
var isFirstPlayer = true
var currentTries = 0
var currentScore = 0

function calculateScore(){
  return Math.floor(Math.random() * 600) + 1 // generates a random number between 1 and 600
}

function nextPlayer(){
  if(isFirstPlayer){
    maxNumberOfTries = currentTries
    document.getElementById("maxTriesDiv").innerHTML = "current tries = " + maxNumberOfTries
    isFirstPlayer = false
  }
  if(currentScore > scoreToBeat)
    scoreToBeat = currentScore
  resetForNewTurn()

}

function rollBothDice(){
  currentScore = calculateScore()
  document.getElementById("scoreDiv").innerHTML = currentScore
  currentTries += 1;
  document.getElementById("currentTriesDiv").innerHTML = "current tries = " + currentTries

  if (currentScore < scoreToBeat)
    document.getElementById("nextPlayerButton").disabled = true
}

function resetForNewTurn(){
  currentTries = 0
  currentScore = 0
  document.getElementById("nextPlayerButton").disabled = false
  document.getElementById("rollBothButton").disabled = false
  document.getElementById("currentTriesDiv").innerHTML = "current tries = " + currentTries
  document.getElementById("scoreToBeatDiv").innerHTML = "Score to beat = " + scoreToBeat
  document.getElementById("scoreDiv").innerHTML = currentScore
}
 document.getElementById("rollBothButton").onclick = rollBothDice
 document.getElementById("nextPlayerButton").onclick = nextPlayer

 </script>
</body>
</html>V
